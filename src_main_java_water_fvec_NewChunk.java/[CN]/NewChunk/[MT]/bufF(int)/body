{
  byte[] bs=new byte[_len << log];
  for (int i=0; i < _len; i++) {
    if (isNA(i)) {
switch (log) {
case 2:
        UDP.set4f(bs,(i << 2),Float.NaN);
      break;
case 3:
    UDP.set8d(bs,(i << 3),Double.NaN);
  break;
}
}
 else {
double le=_ds == null ? _ls[i] * DParseTask.pow10(_xs[i]) : _ds[i];
switch (log) {
case 2:
UDP.set4f(bs,(i << 2),(float)le);
break;
case 3:
UDP.set8d(bs,(i << 3),le);
break;
default :
H2O.fail();
}
}
}
return bs;
}

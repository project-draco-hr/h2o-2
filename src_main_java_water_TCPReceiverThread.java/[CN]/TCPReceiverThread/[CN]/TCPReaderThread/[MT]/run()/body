{
  while (true) {
    try {
      _ab._h2o._last_heard_from=System.currentTimeMillis();
      TimeLine.record_recv(_ab,true,0);
      int ctrl=_ab.getCtrl();
switch (UDP.udp.UDPS[ctrl]) {
case exec:
        RPC.remote_exec(_ab);
      break;
case ack:
    RPC.tcp_ack(_ab);
  break;
case timeline:
TimeLine.tcp_call(_ab);
break;
default :
throw new RuntimeException("Unknown TCP Type: " + ctrl + " "+ _ab._h2o);
}
}
 catch (java.nio.channels.AsynchronousCloseException ex) {
break;
}
catch (Exception e) {
Log.err("IO error on TCP port " + H2O.UDP_PORT + ": ",e);
break;
}
try {
if (!_sock.isOpen()) break;
_ab=new AutoBuffer(_sock);
}
 catch (Exception e) {
break;
}
}
}

{
  if (fromJar()) {
    _systemLoader=(URLClassLoader)getSystemClassLoader();
    _addUrl=URLClassLoader.class.getDeclaredMethod("addURL",URL.class);
    _addUrl.setAccessible(true);
    extractInternalFiles();
    addInternalJars("apache");
    addInternalJars("gson");
    addInternalJars("junit");
    addInternalJars("jama");
    addInternalJars("poi");
    addInternalJars("s3");
  }
  String mainClass="water.H2O";
  if (args.length >= 2 && args[0].equals("-mainClass")) {
    mainClass=args[1];
    args=Arrays.copyOfRange(args,2,args.length);
  }
  Class h2oclazz=loadClass(mainClass,true);
  h2oclazz.getMethod("main",String[].class).invoke(null,(Object)args);
}

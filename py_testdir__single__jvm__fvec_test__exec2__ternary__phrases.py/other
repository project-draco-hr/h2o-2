import unittest, random, sys, time
sys.path.extend(['.', '..', 'py'])
import h2o, h2o_browse as h2b, h2o_exec as h2e, h2o_hosts, h2o_import as h2i
initList = [('r.hex', 'r.hex=i.hex')]
DO_COMPOUND = False
phrasesCompound = ['a=!0; x=!0', 'a=0; x=0', 'a=1; a=2; function(x){x=a;a=3}', 'a=c(11,22,33,44,55,66); a[c(2,6,1),]', 'a=r.hex; function(x){x=a;a=3;nrow(x)*a}(a)', 'function(x){y=x*2; y+1}(2)', 'mean=function(x){apply(x,1,sum)/nrow(x)};mean(r.hex)', 'r.hex[1,-1]; r.hex[1,-1]; r.hex[1,-1]', 'r.hex[,1]=3.3; r.hex', 'x=!0; x+!2', 'x=!0; !x+2', 'x= 3; r.hex[,(x > 0) & (x < 4)]', 'x= 3; r.hex[(x > 0) & (x < 4),]', 'x=0; x+2']
phrases = ['ifelse(1,0,2)', 'ifelse(0,0,2)', '!1.23', '1.23', '!1.23<!2.34', '!1.23<2.34', '1.23<=2.34', '1.23<!2.34', '1.23<2.34', '1.23==2.34', '1.23>=2.34', '1.23>2.34', '1.23!=2.34', '(1.23+r.hex)-r.hex', '1.23+(r.hex-r.hex)', 'apply(r.hex,2,sum)', '!c(!1,3,5)', '!c(1,!3,5)', '!c(1,3,!5)', '!c(1,3,5)', 'c(1,3,5)', 'cbind(c(1,2,3,4), c(5,6,7,8))', 'factor(r.hex[,5])', 'function(funy){function(x){funy(x)*funy(x)}}(sgn)(-2)', 'function(x){x+1}(2)', 'function(x){y=1+2}(2)', 'function(x,y,z){x[]}(r.hex,1,2)', 'is.na(r.hex)', 'max(1,23)', 'min(1,2)', 'nrow(r.hex)*3', 'r.hex[,1]==1.0', '!r.hex', 'r.hex', 'r.hex[,1]', 'r.hex[1,]', 'r.hex+1', 'r.hex[,1]+1', 'r.hex[,1]=r.hex[,1]+1', 'r.hex[2,3]', 'r.hex[2+4,-4]', 'r.hex[c(1,3,5),]', 'r.hex[,ncol(r.hex)+1]=4', 'r.hex[nrow(r.hex),]', 'r.hex[nrow(r.hex)-1,ncol(r.hex)-1]', 'r.hex-r.hex', 'runif(r.hex[,1])', 'sum(1,2)', 'sum(1,2,3)', 'sum(1,r.hex,3)', 'sum(4,c(1,3,5),2,6)', 'sum(c(1,3,5))', 'x<-!1', 'x<-1', 'x=!1', 'x=1']
if DO_COMPOUND:
    phrases += phrasesCompound
if (__name__ == '__main__'):
    h2o.unit_main()

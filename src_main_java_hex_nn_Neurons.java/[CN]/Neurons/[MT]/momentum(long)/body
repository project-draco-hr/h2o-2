{
  double m=momentum_start;
  if (momentum_ramp > 0) {
    if (n >= momentum_ramp)     m=momentum_stable;
 else     m+=(momentum_stable - momentum_start) * n / momentum_ramp;
  }
  return m;
}

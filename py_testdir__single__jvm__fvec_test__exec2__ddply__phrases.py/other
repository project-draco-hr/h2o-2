import unittest, random, sys, time
sys.path.extend(['.', '..', 'py'])
import h2o, h2o_browse as h2b, h2o_exec as h2e, h2o_hosts, h2o_import as h2i
initList = [('r.hex', 'r.hex=i.hex')]
DO_COMPOUND = False
phrasesCompound = ['a=1; a=2; function(x){x=a;a=3}', 'a=r.hex; function(x){x=a;a=3;nrow(x)*a}(a)', 'function(x){y=x*2; y+1}(2)', 'mean=function(x){apply(x,1,sum)/nrow(x)};mean(r.hex)']
badPhrases = ['&&', '||', '%*%', 'ifelse', 'cbind', 'print', 'apply', 'sapply', 'ddply', 'var', 'Reduce', 'cut', 'findInterval', 'runif', 'scale', 't', 'seq_len', 'seq', 'rep_len', 'c', 'table', 'unique', 'factor']
phrases = ['function(x) { cbind( mean(x[,1]), mean(x[,2]) ) }', 'function(x) { mean( x[,2]) }', 'function(x) { sd( x[,2]) }', 'function(x) { quantile(x[,2] , c(0.9) ) }', 'nrow', 'ncol', 'length', 'is.factor', 'any.factor', 'any.na', 'isTRUE', 'min.na.rm', 'max.na.rm', 'min', 'max', 'xorsum']
if DO_COMPOUND:
    phrases += phrasesCompound
if (__name__ == '__main__'):
    h2o.unit_main()

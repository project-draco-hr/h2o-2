{
  for (_current=0; _batches == 0 || _current < _batches; _current++) {
    for (int s=0; s < _batch; s++)     step();
    adjust(_current * _batch);
  }
}

{
  for (; ; ) {
    int state=get();
switch (state) {
case IDLE:
{
        if (compareAndSet(state,RUNNING)) {
          return true;
        }
        break;
      }
case RUNNING:
{
      if (compareAndSet(state,RUNNING_SCHEDULED))       return false;
      break;
    }
case RUNNING_SCHEDULED:
  return false;
}
}
}

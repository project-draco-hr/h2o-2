{
  String pmml=makePmml(makeDataDictionary(makeDataField("x",DataType.DOUBLE),makeDataField("y",DataType.DOUBLE),makeDataField("res",DataType.DOUBLE)),makeScorecard(makeMiningSchema(makeMiningField("res","predicted"),makeMiningField("x","active"),makeMiningField("y","active")),makeOutputSchema("res",DataType.DOUBLE),makeCharacteristic("x_check",makeAttribute(1.0,makeSimplePredicate("x",SimpleOp.LT,0.0)),makeAttribute(2.0,makeSimplePredicate("x",SimpleOp.GE,0.0))),makeCharacteristic("y_check",makeAttribute(1.0,makeSimplePredicate("y",SimpleOp.LE,0.0)),makeAttribute(2.0,makeSimplePredicate("y",SimpleOp.GT,0.0)))));
  double[][] tests=new double[][]{{-1.0,-1.0,2.0},{-1.0,1.0,3.0},{1.0,-1.0,3.0},{1.0,1.0,4.0},{0.0,0.0,3.0}};
  for (  double[] t : tests) {
    HashMap<String,Comparable> m=new HashMap<String,Comparable>();
    m.put("x",t[0]);
    m.put("y",t[1]);
    ScorecardModel scm=getSCM(pmml);
    double predictedScore=scm.score(m);
    Assert.assertEquals(t[2],predictedScore,0.00001);
  }
}

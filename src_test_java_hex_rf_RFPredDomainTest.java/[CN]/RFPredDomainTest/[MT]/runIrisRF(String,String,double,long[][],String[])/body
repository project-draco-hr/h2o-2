{
  String trainKeyName="iris_train.hex";
  Key trainKey=loadAndParseFile(trainKeyName,trainDS);
  ValueArray trainData=DKV.get(trainKey).get();
  int trees=10;
  int depth=50;
  StatType statType=StatType.ENTROPY;
  long seed=0xae44a87f9edf1cbL;
  int[] cols=new int[]{0,1,2,3,4};
  String modelName="model";
  final Key modelKey=Key.make(modelName);
  DRFJob drf=hex.rf.DRF.execute(modelKey,cols,trainData,trees,depth,1024,statType,seed,false,null,-1,Sampling.Strategy.RANDOM,1.0f,null,0,0,false);
  RFModel model=drf.get();
  String testKeyName="iris_test.hex";
  Key testKey=loadAndParseFile(testKeyName,testDS);
  ValueArray testData=DKV.get(testKey).get();
  CMJob cmJob=ConfusionTask.make(model,testData._key,model._features - 1,null,false);
  CMFinal cm=cmJob.get();
  cm.report();
  assertEquals("Error rate",expTestErr,cm.classError(),0.001);
  assertEquals("CF dimension",expCM.length,cm._matrix.length);
  for (int i=0; i < expCM.length; i++) {
    assertArrayEquals(expCM[i],cm._matrix[i]);
  }
  assertArrayEquals("Confusion matrix",expCM,cm._matrix);
  assertArrayEquals("CM domain",expDomain,cm.domain());
  model.deleteKeys();
  UKV.remove(modelKey);
  UKV.remove(testKey);
  UKV.remove(trainKey);
  UKV.remove(cmJob.dest());
}

{
switch (type) {
case help:
    return wrap(server,HTMLHelp());
case json:
case www:
  if (log()) {
    String log=getClass().getSimpleName();
    for (    Object arg : parms.keySet()) {
      String value=parms.getProperty((String)arg);
      if (value != null && value.length() != 0)       log+=" " + arg + "="+ value;
    }
    Log.debug(Sys.HTTPD,log);
  }
return serveGrid(server,parms,type);
case query:
{
for (Argument arg : _arguments) arg.reset();
String query=buildQuery(parms,type);
return wrap(server,query);
}
default :
throw new RuntimeException("Invalid request type " + type.toString());
}
}

{
  ServerSocket serverSocket;
  try {
    serverSocket=new ServerSocket(0,1);
    serverSocket.setSoTimeout(ACCEPT_CLIENT_TIMEOUT);
    serverSocket.setReuseAddress(true);
    int port=serverSocket.getLocalPort();
    new UploaderThread(serverSocket,filename,key).start();
    return port;
  }
 catch (  IOException e) {
    throw new PageError("Cannot create server socket - please try one more time.");
  }
}

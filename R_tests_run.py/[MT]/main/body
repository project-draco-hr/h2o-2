def main(argv):
    global output_dir
    global runner
    test_root_dir = os.path.dirname(os.path.realpath(__file__))
    output_dir = ((test_root_dir + '/') + 'results')
    nodes_per_cloud = 1
    xmx = '2g'
    h2o_jar = os.path.abspath((test_root_dir + '/../../target/h2o.jar'))
    parse_args(argv)
    if (not os.path.exists(h2o_jar)):
        print ''
        print 'h2o jar not found: {}'.format(h2o_jar)
        print ('    ' + output_dir)
        print ''
        sys.exit(1)
    if wipe_output_dir:
        try:
            if os.path.exists(output_dir):
                shutil.rmtree(output_dir)
        except OSError as e:
            print ''
            print 'removing directory failed (errno {0}): {1}'.format(e.errno, e.strerror)
            print ('    ' + output_dir)
            print ''
            sys.exit(1)
    runner = RUnitRunner(test_root_dir, num_clouds, nodes_per_cloud, h2o_jar, base_port, xmx, output_dir)
    signal.signal(signal.SIGINT, signal_handler)
    signal.signal(signal.SIGTERM, signal_handler)
    runner.build_test_list()
    runner.start_clouds()
    runner.run_tests()
    print str(runner)
    if (not runner.terminated):
        time.sleep(100)
    runner.stop_clouds()

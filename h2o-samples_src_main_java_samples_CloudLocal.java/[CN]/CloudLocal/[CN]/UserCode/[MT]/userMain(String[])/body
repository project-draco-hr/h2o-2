{
  int nodes=Integer.parseInt(args[0]);
  String ip="127.0.0.1";
  int port=54321;
  String flat="";
  for (int i=0; i < nodes; i++)   flat+=ip + ":" + (port + i * 2)+ '\n';
  String flatfile=Utils.writeFile(flat).getAbsolutePath();
  for (int i=1; i < nodes; i++) {
    String[] a=args(ip,(port + i * 2),flatfile);
    Node worker=new NodeVM(a);
    worker.inheritIO();
    worker.start();
  }
  H2O.main(args(ip,port,flatfile));
  TestUtil.stall_till_cloudsize(nodes);
  System.out.println("Cloud is up");
  System.out.println("Go to http://127.0.0.1:54321");
  if (!args[1].equals("null")) {
    String pack=args[1].substring(0,args[1].lastIndexOf('.'));
    LaunchJar.weavePackages(pack);
    Class<Job> job=(Class)Class.forName(args[1]);
    job.newInstance().fork();
  }
}

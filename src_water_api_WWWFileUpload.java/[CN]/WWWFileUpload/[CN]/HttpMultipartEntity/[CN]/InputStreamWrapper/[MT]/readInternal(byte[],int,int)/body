{
  if (len < lookAheadLen) {
    System.arraycopy(lookAheadBuf,0,b,off,len);
    lookAheadLen-=len;
    System.arraycopy(lookAheadBuf,len,lookAheadBuf,0,lookAheadLen);
    return len;
  }
  if (lookAheadLen > 0) {
    System.arraycopy(lookAheadBuf,0,b,off,lookAheadLen);
    off+=lookAheadLen;
    len-=lookAheadLen;
    int r=Math.max(wrappedIs.read(b,off,len),0) + lookAheadLen;
    lookAheadLen=0;
    return r;
  }
 else {
    return wrappedIs.read(b,off,len);
  }
}

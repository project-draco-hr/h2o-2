{
  float[] p=super.score0(data,preds);
  if (nclasses() > 1) {
    float rescale=0;
    float dsum=0;
    if (nclasses() == 2)     p[1]=-p[0];
    for (    float k : p)     rescale=Math.max(rescale,k);
    for (int k=0; k < p.length; k++)     dsum+=(p[k]=(float)Math.exp(p[k] - rescale));
    float q=(float)(rescale + Math.log(dsum));
    dsum=0;
    for (int k=0; k < p.length; k++)     dsum+=(p[k]=(float)Math.exp(p[k] - q));
    div(p,dsum);
  }
 else {
  }
  return p;
}

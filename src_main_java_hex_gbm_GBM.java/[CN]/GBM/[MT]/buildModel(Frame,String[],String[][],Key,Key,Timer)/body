{
  GBMModel model=new GBMModel(outputKey,dataKey,names,domains,ntrees,_ymin);
  DKV.put(outputKey,model);
  for (int tid=0; tid < ntrees; tid++) {
    new ComputeProb().doAll(fr);
    new ComputeRes().doAll(fr);
    DTree[] ktrees=buildNextKTrees(fr);
    if (cancelled())     break;
    Score sc=new Score().doIt(model,fr,validation,_validResponse).report(Sys.GBM__,tid + 1,ktrees);
    model=new GBMModel(model,ktrees,(float)sc._sum / _nrows,sc._cm);
    DKV.put(outputKey,model);
  }
  cleanUp(fr,t_build);
}

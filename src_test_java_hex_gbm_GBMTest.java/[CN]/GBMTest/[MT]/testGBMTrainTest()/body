{
  File file1=TestUtil.find_test_file("..//classifcation1Train.txt");
  if (file1 == null)   return;
  Key fkey1=NFSFileVec.make(file1);
  Key dest1=Key.make("train.hex");
  File file2=TestUtil.find_test_file("..//classification1Test.txt");
  Key fkey2=NFSFileVec.make(file2);
  Key dest2=Key.make("test.hex");
  GBM gbm=null;
  Frame fr=null, fpreds=null;
  try {
    gbm=new GBM();
    fr=ParseDataset2.parse(dest1,new Key[]{fkey1});
    UKV.remove(fkey1);
    UKV.remove(fr.remove("agentId")._key);
    gbm.response=fr.remove("outcome");
    gbm.source=fr;
    gbm.ntrees=5;
    gbm.max_depth=10;
    gbm.learn_rate=0.2f;
    gbm.min_rows=10;
    gbm.nbins=100;
    gbm.invoke();
    Frame ftest=ParseDataset2.parse(dest2,new Key[]{fkey2});
    UKV.remove(fkey2);
    fpreds=gbm.score(ftest);
    ConfusionMatrix CM=new ConfusionMatrix();
    CM.actual=ftest;
    CM.vactual=ftest.vecs()[ftest.find("outcome")];
    CM.predict=fpreds;
    CM.vpredict=fpreds.vecs()[fpreds.find("predict")];
    CM.serve();
    System.out.println(CM.toASCII(new StringBuilder()));
  }
  finally {
    UKV.remove(dest1);
    UKV.remove(fkey2);
    UKV.remove(dest2);
    if (gbm != null) {
      UKV.remove(gbm.dest());
      UKV.remove(gbm.response._key);
      gbm.remove();
    }
    if (fr != null)     fr.remove();
    if (fpreds != null)     fpreds.remove();
  }
}

{
  if (_gSetup == null || !_gSetup.valid()) {
    _gSetup=drt._gSetup;
    _hdrFromFile=drt._hdrFromFile;
    _setupFromFile=drt._setupFromFile;
  }
 else   if (drt._gSetup.valid() && !_gSetup._setup.isCompatible(drt._gSetup._setup)) {
    _conflicts.add(_setupFromFile);
    _conflicts.add(drt._setupFromFile);
    if (Math.random() > 0.5) {
      _gSetup=drt._gSetup;
      _setupFromFile=drt._setupFromFile;
      _hdrFromFile=drt._hdrFromFile;
    }
  }
 else   if (drt._gSetup.valid()) {
    if (!_gSetup._setup._header && drt._gSetup._setup._header) {
      _gSetup._setup._header=true;
      _hdrFromFile=drt._hdrFromFile;
      _gSetup._setup._columnNames=drt._gSetup._setup._columnNames;
    }
    if (_gSetup._data.length < CustomParser.MAX_PREVIEW_LINES) {
      int n=_gSetup._data.length;
      int m=Math.min(CustomParser.MAX_PREVIEW_LINES,n + drt._gSetup._data.length - 1);
      _gSetup._data=Arrays.copyOf(_gSetup._data,m);
      for (int i=n; i < m; ++i) {
        _gSetup._data[i]=drt._gSetup._data[i - n + 1];
      }
    }
  }
  if (_failedSetup == null) {
    _failedSetup=drt._failedSetup;
    _conflicts=drt._conflicts;
  }
 else {
    _failedSetup.addAll(drt._failedSetup);
    _conflicts.addAll(drt._conflicts);
  }
}

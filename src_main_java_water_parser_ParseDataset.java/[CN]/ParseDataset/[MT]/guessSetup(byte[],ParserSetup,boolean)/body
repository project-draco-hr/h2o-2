{
  ParserSetup res=null;
  if (setup == null)   setup=new ParserSetup();
switch (setup._pType) {
case CSV:
    return CsvParser.guessSetup(bits,setup,checkHeader);
case SVMLight:
  return SVMLightParser.guessSetup(bits);
case XLS:
return XlsParser.guessSetup(bits);
case AUTO:
try {
if ((res=XlsParser.guessSetup(bits)) != null) return res;
}
 catch (Exception e) {
}
try {
if ((res=SVMLightParser.guessSetup(bits)) != null) return res;
}
 catch (Exception e) {
}
try {
return CsvParser.guessSetup(bits,setup,true);
}
 catch (Exception e) {
e.printStackTrace();
}
throw new RuntimeException("Can't recognize the file type.");
default :
throw H2O.unimpl();
}
}

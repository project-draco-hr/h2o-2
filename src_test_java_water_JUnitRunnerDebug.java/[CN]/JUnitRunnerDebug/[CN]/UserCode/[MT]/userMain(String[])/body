{
  String flat="";
  boolean multi=true;
  flat+="127.0.0.1:54321\n";
  if (multi) {
    flat+="127.0.0.1:54323\n";
    flat+="127.0.0.1:54325\n";
  }
  flat=Utils.writeFile(flat).getAbsolutePath();
  H2O.main(("  -ip 127.0.0.1 -port 54321 -flatfile " + flat).split(" "));
  if (multi) {
    new NodeCL(("-ip 127.0.0.1 -port 54323 -flatfile " + flat).split(" ")).start();
    new NodeCL(("-ip 127.0.0.1 -port 54325 -flatfile " + flat).split(" ")).start();
  }
  List<Class> tests=new ArrayList<Class>();
  tests.add(NeuralNetIrisTest.class);
  JUnitCore junit=new JUnitCore();
  junit.addListener(new LogListener());
  Result result=junit.run(tests.toArray(new Class[0]));
  if (result.getFailures().size() == 0)   Log.info("Success!");
}

{
  String s=Float.isNaN(d) ? "NaN" : ((d == Float.MAX_VALUE || d == -Float.MAX_VALUE) ? " -" : Float.toString(d));
  if (s.length() <= w)   return p(sb,s,w);
  s=String.format("%3.2f",d);
  if (s.length() > w)   s=String.format("%3.1f",d);
  if (s.length() > w)   s=String.format("%3.0f",d);
  return p(sb,s,w);
}

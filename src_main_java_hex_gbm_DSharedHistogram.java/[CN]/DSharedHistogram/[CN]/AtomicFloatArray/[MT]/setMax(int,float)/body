{
  float old=getf(i);
  while (max > old && !compareAndSet(i,old,max))   old=getf(i);
}

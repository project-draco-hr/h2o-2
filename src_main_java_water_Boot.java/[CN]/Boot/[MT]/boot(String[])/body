{
  if (fromJar()) {
    _systemLoader=(URLClassLoader)getSystemClassLoader();
    _addUrl=URLClassLoader.class.getDeclaredMethod("addURL",URL.class);
    _addUrl.setAccessible(true);
    String sroot=System.getProperty("java.io.tmpdir");
    for (int i=0; i < args.length; i++)     if (args[i].startsWith("--ice_root=") || args[i].startsWith("-ice_root="))     sroot=args[i].substring(11);
 else     if ((args[i].equals("--ice_root") || args[i].startsWith("-ice_root")) && i < args.length - 1)     sroot=args[i + 1];
    File tmproot=new File(sroot);
    if (!tmproot.mkdirs() && !tmproot.isDirectory())     throw new IOException("Unable to create ice root: " + tmproot.getAbsolutePath());
    File dir=File.createTempFile("h2o-temp-","",tmproot);
    if (!dir.delete())     throw new IOException("Failed to remove tmp file: " + dir.getAbsolutePath());
    if (!dir.mkdir())     throw new IOException("Failed to create tmp dir: " + dir.getAbsolutePath());
    dir.deleteOnExit();
    _parentDir=dir;
    Log.debug(Sys.WATER,"Extracting jar into " + _parentDir);
    extractInternalFiles();
    addInternalJars("apache");
    addInternalJars("gson");
    addInternalJars("junit");
    addInternalJars("jama");
    addInternalJars("poi");
    addInternalJars("s3");
    addInternalJars("jets3t");
  }
  run(args);
}

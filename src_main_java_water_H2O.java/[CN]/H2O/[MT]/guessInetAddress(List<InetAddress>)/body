{
  String m="Multiple local IPs detected:\n";
  for (  InetAddress ip : ips)   m+="  " + ip;
  m+="Attempting to determine correct address...";
  Socket s=null;
  try {
    s=new Socket("8.8.8.8",53);
    m+="Using " + s.getLocalAddress();
    return s.getLocalAddress();
  }
 catch (  Throwable t) {
    L.err(t);
    return null;
  }
 finally {
    L.warn(m);
    Utils.close(s);
  }
}
